<div #createNodeTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Création d'un Noeud</h4>
    <button type="button" class="close pull-right" aria-label="Fermer" (click)="bsModalRef.hide()">
      <span aria-hidden="true" class="fa fa-times"></span>
    </button>
  </div>

  <div class="modal-body">
    <span></span>
    <form #form="ngForm" (submit)="createNode(form)">
      <div class="form-inline">
        <div class="input-group">
          <label for="name">Nom du noeud</label>
          <input type="text" class="form-control" id="name" ngModel name="name" placeholder="Entrez le nom du noeud" />
        </div>
        <div class="input-group">
          <label for="nodeType">Type de Noeud</label>
          <select class="form-control fa" ngModel name="nodeType" id="nodeType">
            <option value="FirstNode">&#xf11d; FirstNode</option>
            <option value="TimerNode">&#xf017; TimerNode</option>
            <option value="ObjectNode">&#xf1b2; ObjectNode</option>
            <option value="QuestionNode">&#xf29c; QuestionNode</option>
            <option value="PictureNode">&#xf030; PictureNode</option>
            <option value="LastNode">&#xf11e; LastNode</option>
          </select>
        </div>
      </div>
      <div class="form-inline">
        <div class="input-group">
          <table class="table">
            <tr>
              <th rowspan="2"><label>Position</label></th>
              <th><label>Latitude</label></th>
              <td>{{latitude}}</td>
            </tr>
            <tr>

              <th><label>Longitude</label></th>
              <td>{{longitude}}</td>
            </tr>
          </table>

        </div>
      </div>
      <div>
        <tabset>
          <tab heading="Timer" [disabled]="form.value.nodeType !== 'TimerNode'" [active]="form.value.nodeType === 'TimerNode'">
            <div class="form-inline">
              <div class="input-group">
                <label for="duration">Durée d'attente (en secondes)</label>
                <input type="number" class="form-control" id="duration" name="duration" ngModel placeholder="Durée en secondes"/>
              </div>
            </div>
          </tab>
          <tab heading="Objet"  [disabled]="form.value.nodeType !== 'ObjectNode'" [active]="form.value.nodeType === 'ObjectNode'">
            <div class="form-inline">
              <div class="input-group">
                <label for="action">Action à faire sur le noeud</label>
                <textarea class="form-control" cols="40" rows="3" id="action" ngModel name="action" placeholder="Action à effectuer par les joueurs"></textarea>
              </div>
            </div>
          </tab>
          <tab heading="Question"  [disabled]="form.value.nodeType !== 'QuestionNode'" [active]="form.value.nodeType === 'QuestionNode'">
            <div class="form-inline">
              <div class="input-group">
                <label for="question">Question</label>
                <textarea class="form-control" cols="40" rows="3" id="question" ngModel name="question" placeholder="Question à poser aux joueurs"></textarea>
              </div>
              <div class="input-group" *ngFor="let answer of form.value.answers">
                <label>Réponse 1</label>
                <input type="text" class="form-control"/>
              </div>
            </div>
            <br/>
            <button class="btn btn-primary"><span class="fa fa-plus-square"> Ajouter une réponse</span></button>
          </tab>
        </tabset>
      </div>
      <div class="modal-footer">
        <button class="btn btn-success pull-right" type="submit" aria-label="Close"
                (click)="bsModalRef.hide()">
          Créer le Noeud
        </button>
      </div>
    </form>
  </div>
</div>
